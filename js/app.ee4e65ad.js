(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],h=0,u=[];h<s.length;h++)i=s[h],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&u.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(u.length)u.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/developer3d-test/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"039d":function(e,t,n){},5235:function(e,t,n){},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},"5ed1":function(e,t,n){"use strict";var r=n("5235"),a=n.n(r);a.a},"9c0c":function(e,t,n){},a4c0:function(e,t,n){"use strict";var r=n("039d"),a=n.n(r);a.a},cd49:function(e,t,n){"use strict";n.r(t);n("e623"),n("e379"),n("5dc8"),n("37e1");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],i=(n("5c0b"),n("2877")),s={},c=Object(i["a"])(s,a,o,!1,null,null,null),l=c.exports,d=n("9483");Object(d["a"])("".concat("/developer3d-test/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var h=n("8c4f"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Scene")],1)},p=[],m=n("d4ec"),g=n("262e"),b=n("2caf"),f=n("9ab4"),v=n("60a3"),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"return"},[n("router-link",{attrs:{to:"/flatscene"}},[e._v("FLAT "+e._s(e.n))]),n("div",{staticClass:"change-camera",on:{click:function(t){return e.changeCamera()}}},[e._v("Change camera")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingProgress<100,expression:"loadingProgress < 100"}],staticClass:"preloader"},[n("div",[e._v(" Ładowanie "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.loadingTotal,expression:"loadingTotal"}]},[e._v(e._s(e.loadingLoaded)+"/"+e._s(e.loadingTotal))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingTotal,expression:"loadingTotal"}]},[e._v(e._s(e.loadingProgress)+"%")])]),e.touchScreen?n("div",{ref:"target",staticClass:"target"}):e._e(),n("div",{ref:"scene",staticClass:"scene",class:{blur:e.loadingProgress<100},on:{mousedown:function(t){return e.clickCurrentSelected()}}})])},y=[],P=(n("cb29"),n("c740"),n("b0c0"),n("d3b7"),n("25f0"),n("38cf"),n("bee2")),C=n("5a89"),x=n("4721"),S=n("34ad"),j=n("0ca5"),O=n("32d9"),k=n("93e9"),_=n("f7dd"),D=function(e){Object(g["a"])(n,e);var t=Object(b["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.currentCamera="global",e.renderer=new C["Cb"]({antialias:!0}),e.cameras={global:new C["W"],person:new C["W"]},e.controls={global:new x["a"](e.cameras["global"],e.renderer.domElement),person:new x["a"](e.cameras["person"],e.renderer.domElement)},e.scene=new C["ib"],e.mouse=new C["yb"],e.raycaster=new C["gb"],e.clock=new C["h"],e.manager=new C["F"],e.selectable=[],e.currentSelected=null,e.touchScreen=!1,e.loadingLoaded=0,e.loadingTotal=0,e.loadingProgress=0,e.n=0,e.currentSelectedSprite=null,e.addedSprites=[],e.sprites=[{id:1,position:new C["zb"](5,18,-12)},{id:2,position:new C["zb"](8,20,-14)},{id:3,position:new C["zb"](10,15,-8)}],e}return Object(P["a"])(n,[{key:"resetOpacity",value:function(){var e=this;if(this.currentSelected){var t=this.selectable.findIndex((function(t){return t.id===e.currentSelected}));this.selectable[t].material.opacity=0,this.currentSelected=null}}},{key:"onCursorMove",value:function(e){this.touchScreen?(this.mouse.x=window.innerWidth/2/window.innerWidth*2-1,this.mouse.y=-window.innerHeight/2/window.innerHeight*2+1,this.$refs.target.style.right=window.innerWidth/2+"px",this.$refs.target.style.top=window.innerHeight/2+"px"):(this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1),this.raycaster.setFromCamera(this.mouse,this.cameras[this.currentCamera]);var t=this.raycaster.intersectObjects(this.selectable,!0);if(t&&t[0])this.resetOpacity(),t[0].object.material.opacity=.5,t[0].object.material.transparent=!0,this.currentSelected=t[0].object.id;else for(var n in this.resetOpacity(),this.selectable)this.selectable[n].material.opacity=0;var r=this.raycaster.intersectObjects(this.addedSprites,!0);r&&r[0]?(r[0].object.material.opacity=.1,this.currentSelectedSprite=r[0]):this.currentSelectedSprite&&(this.currentSelectedSprite.object.material.opacity=.7,this.currentSelectedSprite=null)}},{key:"onWindowResize",value:function(){this.cameras[this.currentCamera].aspect=window.innerWidth/window.innerHeight,this.cameras[this.currentCamera].updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}},{key:"clickCurrentSelected",value:function(){this.n+=1,this.currentSelected&&this.$router.push("FlatScene"),this.currentSelectedSprite}},{key:"changeCamera",value:function(){"global"===this.currentCamera?(this.currentCamera="person",this.cameras[this.currentCamera].updateProjectionMatrix()):(this.currentCamera="global",this.cameras[this.currentCamera].updateProjectionMatrix())}},{key:"drawNumber",value:function(e){var t=document.createElement("canvas");t.width=64,t.height=64;var n=32,r=32,a=30,o=0,i=2*Math.PI,s=t.getContext("2d");return null!=s&&(s.fillStyle="rgb(0, 0, 0)",s.beginPath(),s.arc(n,r,a,o,i),s.fill(),s.strokeStyle="rgb(255, 255, 255)",s.lineWidth=3,s.beginPath(),s.arc(n,r,a,o,i),s.stroke(),s.fillStyle="rgb(255, 255, 255)",s.font="32px sans-serif",s.textAlign="center",s.textBaseline="middle",s.fillText(e,n,r)),new C["f"](t)}},{key:"addSprite",value:function(e,t){var n=this.drawNumber(e),r=new C["qb"]({map:n}),a=new C["qb"]({map:n,transparent:!0,depthTest:!1,opacity:.3}),o=new C["pb"](r),i=new C["pb"](a);o.position.copy(t),i.position.copy(t),o.userData.frontID=o.id,o.userData.backID=i.id,i.userData.frontID=o.id,i.userData.backID=i.id,this.addedSprites.push(o,i),this.scene.add(o,i)}},{key:"addAllSprites",value:function(){for(var e in this.sprites)this.addSprite(this.sprites[e].id.toString(),this.sprites[e].position)}}]),n}(v["b"]);D=Object(f["a"])([Object(v["a"])({mounted:function(){var e=this,t=this.$refs.scene;this.addAllSprites(),this.cameras["global"].fov=60,this.cameras["global"].aspect=t.clientWidth/t.clientHeight,this.cameras["global"].near=1,this.cameras["global"].far=1e3,this.cameras["global"].position.set(55,55,55),this.cameras["person"].fov=60,this.cameras["person"].aspect=t.clientWidth/t.clientHeight,this.cameras["person"].near=1,this.cameras["person"].far=1e3,this.cameras["person"].position.set(76,1,76),this.cameras[this.currentCamera].updateProjectionMatrix(),this.renderer.setSize(t.clientWidth,t.clientHeight),t.appendChild(this.renderer.domElement),this.controls["global"].enableDamping=!0,this.controls["global"].dampingFactor=.05,this.controls["global"].screenSpacePanning=!1,this.controls["global"].minDistance=10,this.controls["global"].maxDistance=5e3,this.controls["global"].maxPolarAngle=Math.PI/2,this.controls["global"].enablePan=!0,this.controls["global"].enableKeys=!1,this.controls["person"].enableDamping=!0,this.controls["person"].dampingFactor=.05,this.controls["person"].screenSpacePanning=!1,this.controls["person"].minDistance=10,this.controls["person"].maxDistance=5e3,this.controls["person"].maxPolarAngle=Math.PI/2,this.controls["person"].enablePan=!0,this.controls["person"].target=new C["zb"](75,1,75),this.controls["person"].enableKeys=!0,this.controls["person"].keyPanSpeed=70,this.controls["person"].enableZoom=!1,"ontouchstart"in document.documentElement?(this.touchScreen=!0,window.addEventListener("touchend",this.onCursorMove,!1)):window.addEventListener("mousemove",this.onCursorMove,!1),window.addEventListener("resize",this.onWindowResize);var n=new S["a"](this.manager),r=new j["a"];r.setDecoderPath("gltf/"),n.setDRACOLoader(r),n.load("develop_house/untitledDraco.gltf",(function(t){var n=t.scene;e.scene.add(n)}),void 0,(function(e){console.error(e)})),n.load("develop_house/sciana.gltf",(function(t){var n=t.scene;for(var r in n.name="sciana",e.scene.add(n),n.children)n.children[r].material=new C["O"]({color:16711680,opacity:0,transparent:!0}),e.selectable.push(n.children[r])}),void 0,(function(e){console.error(e)})),this.manager.onProgress=function(t,n,r){e.loadingLoaded=n,e.loadingTotal=r,e.loadingProgress=Math.round(n/r*1e4)/100};var a=new C["q"](16777215,2236962,1),o=new C["j"](16777215,.5);o.position.set(10,10,10),this.scene.add(a,o);var i=new C["ub"],s=i.load("textures/grass.jpg");s.wrapS=s.wrapT=C["hb"],s.repeat.set(25,25),s.anisotropy=16,s.encoding=C["Db"];var c=new C["M"]({map:s}),l=new C["K"](new C["X"](500,500),c);l.position.y=-1,l.rotation.x=-Math.PI/2,l.receiveShadow=!0,this.scene.background=new C["i"](13426943),this.scene.fog=new C["n"](13426943,70,200),this.scene.add(l);var d=new O["a"](this.renderer),h=new k["a"](this.scene,this.cameras[this.currentCamera]);d.addPass(h);var u=new _["a"](window.innerWidth*this.renderer.getPixelRatio(),window.innerHeight*this.renderer.getPixelRatio());d.addPass(u);var p=function(){e.renderer.render(e.scene,e.cameras[e.currentCamera])},m=function t(){requestAnimationFrame(t),e.controls[e.currentCamera].update(e.clock.getDelta()),p()};m()},destroyed:function(){window.addEventListener("mousemove",this.onCursorMove,!1),this.renderer.forceContextLoss()}})],D);var M=D,W=M,T=(n("a4c0"),Object(i["a"])(W,w,y,!1,null,"99249fb4",null)),E=T.exports,A=function(e){Object(g["a"])(n,e);var t=Object(b["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return n}(v["b"]);A=Object(f["a"])([Object(v["a"])({components:{Scene:E}})],A);var H=A,L=H,z=Object(i["a"])(L,u,p,!1,null,null,null),F=z.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("FlatScene")],1)},N=[],$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"return"},[n("router-link",{attrs:{to:"/"}},[e._v("WRÓĆ")]),n("div",{staticClass:"change-camera",on:{click:function(t){return e.changeCamera()}}},[e._v("Change camera")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingProgress<100,expression:"loadingProgress < 100"}],staticClass:"preloader"},[n("div",[e._v(" Ładowanie "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.loadingTotal,expression:"loadingTotal"}]},[e._v(e._s(e.loadingLoaded)+"/"+e._s(e.loadingTotal))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingTotal,expression:"loadingTotal"}]},[e._v(e._s(e.loadingProgress)+"%")])]),n("div",{ref:"scene",staticClass:"scene",class:{blur:e.loadingProgress<100}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],ref:"annotation",staticClass:"annotation"})])},I=[],q=function(e){Object(g["a"])(n,e);var t=Object(b["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.currentCamera="global",e.renderer=new C["Cb"]({antialias:!0}),e.cameras={global:new C["W"],person:new C["W"]},e.controls={global:new x["a"](e.cameras["global"],e.renderer.domElement),person:new x["a"](e.cameras["person"],e.renderer.domElement)},e.scene=new C["ib"],e.clock=new C["h"],e.manager=new C["F"],e.loadingLoaded=0,e.loadingTotal=0,e.loadingProgress=0,e.loaded=!1,e.annotation=null,e}return Object(P["a"])(n,[{key:"onWindowResize",value:function(){this.cameras[this.currentCamera].aspect=window.innerWidth/window.innerHeight,this.cameras[this.currentCamera].updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}},{key:"changeCamera",value:function(){"global"===this.currentCamera?(this.currentCamera="person",this.cameras[this.currentCamera].updateProjectionMatrix()):(this.currentCamera="global",this.cameras[this.currentCamera].updateProjectionMatrix())}},{key:"updateAnnotationPosition",value:function(){var e=new C["zb"](0,1,0),t=this.renderer.domElement;e.project(this.cameras[this.currentCamera]),e.x=Math.round((.5+e.x/2)*(t.width/window.devicePixelRatio)),e.y=Math.round((.5-e.y/2)*(t.height/window.devicePixelRatio)),null!=this.annotation&&(this.annotation.style.top="".concat(e.y,"px"),this.annotation.style.left="".concat(e.x,"px"))}}]),n}(v["b"]);q=Object(f["a"])([Object(v["a"])({mounted:function(){var e=this,t=this.$refs.scene;this.annotation=this.$refs.annotation,this.cameras["global"].fov=60,this.cameras["global"].aspect=t.clientWidth/t.clientHeight,this.cameras["global"].near=1,this.cameras["global"].far=1e3,this.cameras["global"].position.set(4,10,7),this.cameras["person"].fov=85,this.cameras["person"].aspect=t.clientWidth/t.clientHeight,this.cameras["person"].near=.001,this.cameras["person"].far=1e3,this.cameras["person"].position.set(-.5,1.1,.15),this.cameras[this.currentCamera].updateProjectionMatrix(),this.renderer.setSize(t.clientWidth,t.clientHeight),t.appendChild(this.renderer.domElement),this.controls["global"].enableDamping=!0,this.controls["global"].dampingFactor=.05,this.controls["global"].screenSpacePanning=!1,this.controls["global"].minDistance=10,this.controls["global"].maxDistance=1e3,this.controls["global"].maxPolarAngle=Math.PI/2,this.controls["global"].enablePan=!0,this.controls["global"].enableKeys=!1,this.controls["person"].enableDamping=!0,this.controls["person"].dampingFactor=.05,this.controls["person"].screenSpacePanning=!1,this.controls["person"].minDistance=.001,this.controls["person"].maxDistance=1,this.controls["person"].maxPolarAngle=Math.PI/2,this.controls["person"].enablePan=!0,this.controls["person"].target=new C["zb"](.4,1.05,-.2),this.controls["person"].enableKeys=!0,this.controls["person"].keyPanSpeed=70,this.controls["person"].enableZoom=!1,window.addEventListener("resize",this.onWindowResize);var n=new S["a"](this.manager),r=new j["a"];r.setDecoderPath("gltf/"),n.setDRACOLoader(r),n.load("develop_house/modelDraco.gltf",(function(t){var n=t.scene;e.scene.add(n)}),void 0,(function(e){console.error(e)})),this.manager.onProgress=function(t,n,r){e.loadingLoaded=n,e.loadingTotal=r,e.loadingProgress=Math.round(n/r*1e4)/100},this.manager.onLoad=function(){e.loaded=!0};var a=new C["q"](16777215,2236962,1),o=new C["j"](16777215,.5);o.position.set(10,10,10),this.scene.add(a,o),this.scene.background=new C["i"](13426943),this.scene.fog=new C["n"](13426943,70,200);var i=new O["a"](this.renderer),s=new k["a"](this.scene,this.cameras[this.currentCamera]);i.addPass(s);var c=new _["a"](window.innerWidth*this.renderer.getPixelRatio(),window.innerHeight*this.renderer.getPixelRatio());i.addPass(c);var l=function(){e.renderer.render(e.scene,e.cameras[e.currentCamera]),e.updateAnnotationPosition()},d=function t(){requestAnimationFrame(t),e.controls[e.currentCamera].update(e.clock.getDelta()),l()};d()},destroyed:function(){this.renderer.forceContextLoss()}})],q);var K=q,B=K,J=(n("5ed1"),Object(i["a"])(B,$,I,!1,null,"5a06cf37",null)),X=J.exports,Z=function(e){Object(g["a"])(n,e);var t=Object(b["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return n}(v["b"]);Z=Object(f["a"])([Object(v["a"])({components:{FlatScene:X}})],Z);var Y=Z,G=Y,Q=Object(i["a"])(G,R,N,!1,null,null,null),U=Q.exports;r["a"].use(h["a"]);var V=[{path:"/",name:"Home",component:F},{path:"/flatscene",name:"Flat",component:U}],ee=new h["a"]({mode:"history",base:"/developer3d-test/",routes:V}),te=ee,ne=n("2f62");r["a"].use(ne["a"]);var re=new ne["a"].Store({state:{},mutations:{},actions:{},modules:{}});r["a"].config.productionTip=!1,new r["a"]({router:te,store:re,render:function(e){return e(l)}}).$mount("#app")}});
//# sourceMappingURL=app.ee4e65ad.js.map