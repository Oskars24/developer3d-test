(function(e){function t(t){for(var r,o,s=t[0],c=t[1],l=t[2],u=0,h=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(h.length)h.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/developer3d-test/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},2287:function(e,t,n){"use strict";var r=n("d74f"),a=n.n(r);a.a},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},"9c0c":function(e,t,n){},a3d6:function(e,t,n){"use strict";var r=n("b6f3"),a=n.n(r);a.a},b6f3:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e623"),n("e379"),n("5dc8"),n("37e1");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],o=(n("5c0b"),n("2877")),s={},c=Object(o["a"])(s,a,i,!1,null,null,null),l=c.exports,d=n("9483");Object(d["a"])("".concat("/developer3d-test/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var u=n("8c4f"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Scene")],1)},p=[],m=n("d4ec"),g=n("262e"),v=n("2caf"),b=n("9ab4"),f=n("60a3"),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"return"},[n("router-link",{attrs:{to:"/flatscene"}},[e._v("FLAT")]),n("div",{staticClass:"change-camera",on:{click:function(t){return e.changeCamera(e.currentCamera,"global"===e.currentCamera?"person":"global",1500)}}},[e._v("Change camera: "+e._s(e.currentCamera))])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingProgress<100,expression:"loadingProgress < 100"}],staticClass:"preloader"},[n("div",[e._v(" Ładowanie "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.loadingTotal,expression:"loadingTotal"}]},[e._v(e._s(e.loadingLoaded)+"/"+e._s(e.loadingTotal))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingTotal,expression:"loadingTotal"}]},[e._v(e._s(e.loadingProgress)+"%")])]),n("div",{ref:"scene",staticClass:"scene",class:{blur:e.loadingProgress<100},on:{click:function(t){return e.clickScreen()},touchstart:function(t){return e.clickScreen()}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.currentSelected,expression:"currentSelected"}],ref:"annotation",staticClass:"annotation"},[n("div",{staticClass:"annotation-content"},[n("div",{staticClass:"annotation-close",on:{click:function(t){return e.closeAnnotation()}}},[e._v("x")]),n("div",{staticClass:"annotation-title"},[e._v("Id mieszkania: "+e._s(e.currentSelected))]),n("div",{staticClass:"annotation-desc"},[e._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam gravida massa odio, vitae accumsan mauris rutrum sed. Curabitur venenatis quam risus, sed rutrum magna cursus nec. Fusce viverra ultricies nulla, et ultricies turpis. In eu mi eget velit sagittis tempus in non tortor. ")]),n("div",{staticClass:"annotation-button",on:{click:function(t){return e.clickCurrentSelected()}}},[e._v("Zobacz mieszkanie")])])])])},y=[],C=(n("cb29"),n("c740"),n("b0c0"),n("d3b7"),n("25f0"),n("38cf"),n("bee2")),S=n("5a89"),x=n("4721"),P=n("34ad"),j=n("0ca5"),O=n("32d9"),k=n("93e9"),_=n("f7dd"),z=n("1209"),A=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.currentCamera="global",e.renderer=new S["Cb"]({antialias:!0}),e.cameras={global:new S["W"],person:new S["W"]},e.controls={global:new x["a"](e.cameras["global"],e.renderer.domElement),person:new x["a"](e.cameras["person"],e.renderer.domElement)},e.scene=new S["ib"],e.mouse=new S["yb"],e.raycaster=new S["gb"],e.clock=new S["h"],e.manager=new S["F"],e.selectable=[],e.currentHover=null,e.currentSelected=null,e.touchScreen=!1,e.loadingLoaded=0,e.loadingTotal=0,e.loadingProgress=0,e.currentSelectedSprite=null,e.addedSprites=[],e.sprites=[{id:1,position:new S["zb"](50,18,-12)},{id:2,position:new S["zb"](8,20,-14)},{id:3,position:new S["zb"](10,15,-8)}],e}return Object(C["a"])(n,[{key:"resetOpacity",value:function(){var e=this;if(this.currentHover){var t=this.selectable.findIndex((function(t){return t.id===e.currentHover}));this.currentHover!=this.currentSelected&&(this.selectable[t].material.opacity=0),this.currentHover=null}}},{key:"onCursorMove",value:function(e){var t=this;this.touchScreen?(this.mouse.x=e.changedTouches[0].clientX/window.innerWidth*2-1,this.mouse.y=-e.changedTouches[0].clientY/window.innerHeight*2+1):(this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1),this.raycaster.setFromCamera(this.mouse,this.cameras[this.currentCamera]);var n=this.raycaster.intersectObjects(this.selectable,!0);if(n&&n[0])this.resetOpacity(),n[0].object.material.opacity=.5,n[0].object.material.transparent=!0,this.currentHover=n[0].object.id;else{this.resetOpacity();var r=this.selectable.findIndex((function(e){return e.id===t.currentSelected}));for(var a in this.selectable)a!=r.toString()&&(this.selectable[a].material.opacity=0)}var i=this.raycaster.intersectObjects(this.addedSprites,!0);i&&i[0]?(i[0].object.material.opacity=.1,this.currentSelectedSprite=i[0]):this.currentSelectedSprite&&(this.currentSelectedSprite.object.material.opacity=.7,this.currentSelectedSprite=null)}},{key:"onWindowResize",value:function(){this.cameras[this.currentCamera].aspect=window.innerWidth/window.innerHeight,this.cameras[this.currentCamera].updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}},{key:"clickScreen",value:function(){this.currentHover&&(this.currentHover===this.currentSelected?this.$router.push("FlatScene"):this.currentSelected=this.currentHover),this.currentSelectedSprite&&this.moveCameraToPosition(this.currentCamera,this.currentSelectedSprite.object.position,1500)}},{key:"moveCameraToPosition",value:function(e,t,n,r){var a=this,i=this.controls[e].getAzimuthalAngle();this.controls[e].maxAzimuthAngle=i,this.controls[e].minAzimuthAngle=i,this.controls[e].enableRotate=!1,this.animation=Object(z["a"])({targets:this.cameras[e].position,easing:"easeOutCirc",duration:n,complete:function(){a.animation=void 0},x:t.x,y:t.y,z:t.z-10}),this.animation=Object(z["a"])({targets:this.controls[e].target,easing:"easeOutCirc",duration:n+10,complete:function(){a.animation=void 0,a.controls[e].maxAzimuthAngle=1/0,a.controls[e].minAzimuthAngle=-1/0,a.controls[e].enableRotate=!0,void 0!=r&&r()},x:t.x,y:t.y,z:t.z})}},{key:"changeCamera",value:function(e,t,n){var r=this;this.controls[e].saveState(),this.controls[e].enableRotate=!1,this.animation=Object(z["a"])({targets:this.cameras[e].position,easing:"easeOutCirc",duration:n,complete:function(){r.animation=void 0},x:this.cameras[t].position.x,y:this.cameras[t].position.y,z:this.cameras[t].position.z}),this.animation=Object(z["a"])({targets:this.controls[e].target,easing:"easeOutCirc",duration:1.1*n,complete:function(){r.animation=void 0,r.controls[e].enableRotate=!0,r.currentCamera=t,r.cameras[t].updateProjectionMatrix(),r.controls[e].reset()},x:this.controls[t].target.x,y:this.controls[t].target.y,z:this.controls[t].target.z})}},{key:"drawNumber",value:function(e){var t=document.createElement("canvas");t.width=64,t.height=64;var n=32,r=32,a=30,i=0,o=2*Math.PI,s=t.getContext("2d");return null!=s&&(s.fillStyle="rgb(0, 0, 0)",s.beginPath(),s.arc(n,r,a,i,o),s.fill(),s.strokeStyle="rgb(255, 255, 255)",s.lineWidth=3,s.beginPath(),s.arc(n,r,a,i,o),s.stroke(),s.fillStyle="rgb(255, 255, 255)",s.font="32px sans-serif",s.textAlign="center",s.textBaseline="middle",s.fillText(e,n,r)),new S["f"](t)}},{key:"addSprite",value:function(e,t){var n=this.drawNumber(e),r=new S["qb"]({map:n}),a=new S["qb"]({map:n,transparent:!0,depthTest:!1,opacity:.3}),i=new S["pb"](r),o=new S["pb"](a);i.position.copy(t),o.position.copy(t),i.userData.frontID=i.id,i.userData.backID=o.id,o.userData.frontID=i.id,o.userData.backID=o.id,this.addedSprites.push(i,o),this.scene.add(i,o)}},{key:"addAllSprites",value:function(){for(var e in this.sprites)this.addSprite(this.sprites[e].id.toString(),this.sprites[e].position)}},{key:"updateAnnotationPosition",value:function(){var e=this;if(this.currentSelected){var t=this.selectable.findIndex((function(t){return t.id===e.currentSelected})),n=this.selectable[t].position.clone(),r=this.renderer.domElement;n.project(this.cameras[this.currentCamera]),n.x=Math.round((.5+n.x/2)*(r.width/window.devicePixelRatio)),n.y=Math.round((.5-n.y/2)*(r.height/window.devicePixelRatio)),this.$refs.annotation.style.top="".concat(n.y,"px"),this.$refs.annotation.style.left="".concat(n.x,"px")}}},{key:"closeAnnotation",value:function(){this.currentSelected=null}},{key:"clickCurrentSelected",value:function(){this.$router.push("FlatScene")}}]),n}(f["b"]);A=Object(b["a"])([Object(f["a"])({mounted:function(){var e=this,t=this.$refs.scene;this.addAllSprites(),this.cameras["global"].fov=60,this.cameras["global"].aspect=t.clientWidth/t.clientHeight,this.cameras["global"].near=1,this.cameras["global"].far=1e3,this.cameras["global"].position.set(55,55,55),this.cameras["person"].fov=60,this.cameras["person"].aspect=t.clientWidth/t.clientHeight,this.cameras["person"].near=1,this.cameras["person"].far=1e3,this.cameras["person"].position.set(76,1,76),this.cameras[this.currentCamera].updateProjectionMatrix(),this.renderer.setSize(t.clientWidth,t.clientHeight),t.appendChild(this.renderer.domElement),this.controls["global"].enableDamping=!0,this.controls["global"].dampingFactor=.05,this.controls["global"].screenSpacePanning=!1,this.controls["global"].minDistance=10,this.controls["global"].maxDistance=5e3,this.controls["global"].maxPolarAngle=Math.PI/2,this.controls["global"].enablePan=!0,this.controls["global"].enableKeys=!1,this.controls["person"].target=new S["zb"](0,0,0),this.controls["person"].enableDamping=!0,this.controls["person"].dampingFactor=.05,this.controls["person"].screenSpacePanning=!1,this.controls["person"].minDistance=10,this.controls["person"].maxDistance=5e3,this.controls["person"].maxPolarAngle=Math.PI/2,this.controls["person"].enablePan=!0,this.controls["person"].target=new S["zb"](75,1,75),this.controls["person"].enableKeys=!0,this.controls["person"].keyPanSpeed=70,this.controls["person"].enableZoom=!1,"ontouchstart"in document.documentElement?(this.touchScreen=!0,window.addEventListener("touchend",this.onCursorMove,!1)):window.addEventListener("mousemove",this.onCursorMove,!1),window.addEventListener("resize",this.onWindowResize);var n=new P["a"](this.manager),r=new j["a"];r.setDecoderPath("gltf/"),n.setDRACOLoader(r),n.load("develop_house/untitledDraco.gltf",(function(t){var n=t.scene;e.scene.add(n)}),void 0,(function(e){console.error(e)})),n.load("develop_house/sciana.gltf",(function(t){var n=t.scene;for(var r in n.name="sciana",e.scene.add(n),n.children)n.children[r].material=new S["O"]({color:16711680,opacity:0,transparent:!0}),e.selectable.push(n.children[r])}),void 0,(function(e){console.error(e)})),this.manager.onProgress=function(t,n,r){e.loadingLoaded=n,e.loadingTotal=r,e.loadingProgress=Math.round(n/r*1e4)/100};var a=new S["q"](16777215,2236962,1),i=new S["j"](16777215,.5);i.position.set(10,10,10),this.scene.add(a,i);var o=new S["ub"],s=o.load("textures/grass.jpg");s.wrapS=s.wrapT=S["hb"],s.repeat.set(25,25),s.anisotropy=16,s.encoding=S["Db"];var c=new S["M"]({map:s}),l=new S["K"](new S["X"](500,500),c);l.position.y=-1,l.rotation.x=-Math.PI/2,l.receiveShadow=!0,this.scene.background=new S["i"](13426943),this.scene.fog=new S["n"](13426943,70,200),this.scene.add(l);var d=new O["a"](this.renderer),u=new k["a"](this.scene,this.cameras[this.currentCamera]);d.addPass(u);var h=new _["a"](window.innerWidth*this.renderer.getPixelRatio(),window.innerHeight*this.renderer.getPixelRatio());d.addPass(h);var p=function(){e.renderer.render(e.scene,e.cameras[e.currentCamera]),e.updateAnnotationPosition()},m=function t(){requestAnimationFrame(t),e.controls[e.currentCamera].update(e.clock.getDelta()),p()};m()},destroyed:function(){window.addEventListener("mousemove",this.onCursorMove,!1),this.renderer.forceContextLoss(),this.currentSelected=null}})],A);var D=A,M=D,T=(n("a3d6"),Object(o["a"])(M,w,y,!1,null,"36a8c7f8",null)),H=T.exports,W=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return n}(f["b"]);W=Object(b["a"])([Object(f["a"])({components:{Scene:H}})],W);var E=W,F=E,L=Object(o["a"])(F,h,p,!1,null,null,null),R=L.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("FlatScene")],1)},N=[],$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"return"},[n("router-link",{attrs:{to:"/"}},[e._v("WRÓĆ")]),n("div",{staticClass:"change-camera",on:{click:function(t){return e.changeCamera()}}},[e._v("Change camera")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingProgress<100,expression:"loadingProgress < 100"}],staticClass:"preloader"},[n("div",[e._v(" Ładowanie "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.loadingTotal,expression:"loadingTotal"}]},[e._v(e._s(e.loadingLoaded)+"/"+e._s(e.loadingTotal))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingTotal,expression:"loadingTotal"}]},[e._v(e._s(e.loadingProgress)+"%")])]),n("div",{ref:"scene",staticClass:"scene",class:{blur:e.loadingProgress<100}})])},q=[],K=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.currentCamera="global",e.renderer=new S["Cb"]({antialias:!0}),e.cameras={global:new S["W"],person:new S["W"]},e.controls={global:new x["a"](e.cameras["global"],e.renderer.domElement),person:new x["a"](e.cameras["person"],e.renderer.domElement)},e.scene=new S["ib"],e.clock=new S["h"],e.manager=new S["F"],e.loadingLoaded=0,e.loadingTotal=0,e.loadingProgress=0,e.loaded=!1,e}return Object(C["a"])(n,[{key:"onWindowResize",value:function(){this.cameras[this.currentCamera].aspect=window.innerWidth/window.innerHeight,this.cameras[this.currentCamera].updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}},{key:"changeCamera",value:function(){"global"===this.currentCamera?(this.currentCamera="person",this.cameras[this.currentCamera].updateProjectionMatrix()):(this.currentCamera="global",this.cameras[this.currentCamera].updateProjectionMatrix())}}]),n}(f["b"]);K=Object(b["a"])([Object(f["a"])({mounted:function(){var e=this,t=this.$refs.scene;this.cameras["global"].fov=60,this.cameras["global"].aspect=t.clientWidth/t.clientHeight,this.cameras["global"].near=1,this.cameras["global"].far=1e3,this.cameras["global"].position.set(4,10,7),this.cameras["person"].fov=85,this.cameras["person"].aspect=t.clientWidth/t.clientHeight,this.cameras["person"].near=.001,this.cameras["person"].far=1e3,this.cameras["person"].position.set(-.5,1.1,.15),this.cameras[this.currentCamera].updateProjectionMatrix(),this.renderer.setSize(t.clientWidth,t.clientHeight),t.appendChild(this.renderer.domElement),this.controls["global"].enableDamping=!0,this.controls["global"].dampingFactor=.05,this.controls["global"].screenSpacePanning=!1,this.controls["global"].minDistance=10,this.controls["global"].maxDistance=1e3,this.controls["global"].maxPolarAngle=Math.PI/2,this.controls["global"].enablePan=!0,this.controls["global"].enableKeys=!1,this.controls["person"].enableDamping=!0,this.controls["person"].dampingFactor=.05,this.controls["person"].screenSpacePanning=!1,this.controls["person"].minDistance=.001,this.controls["person"].maxDistance=1,this.controls["person"].maxPolarAngle=Math.PI/2,this.controls["person"].enablePan=!0,this.controls["person"].target=new S["zb"](.4,1.05,-.2),this.controls["person"].enableKeys=!0,this.controls["person"].keyPanSpeed=70,this.controls["person"].enableZoom=!1,window.addEventListener("resize",this.onWindowResize);var n=new P["a"](this.manager),r=new j["a"];r.setDecoderPath("gltf/"),n.setDRACOLoader(r),n.load("develop_house/modelDraco.gltf",(function(t){var n=t.scene;e.scene.add(n)}),void 0,(function(e){console.error(e)})),this.manager.onProgress=function(t,n,r){e.loadingLoaded=n,e.loadingTotal=r,e.loadingProgress=Math.round(n/r*1e4)/100},this.manager.onLoad=function(){e.loaded=!0};var a=new S["q"](16777215,2236962,1),i=new S["j"](16777215,.5);i.position.set(10,10,10),this.scene.add(a,i),this.scene.background=new S["i"](13426943),this.scene.fog=new S["n"](13426943,70,200);var o=new O["a"](this.renderer),s=new k["a"](this.scene,this.cameras[this.currentCamera]);o.addPass(s);var c=new _["a"](window.innerWidth*this.renderer.getPixelRatio(),window.innerHeight*this.renderer.getPixelRatio());o.addPass(c);var l=function(){e.renderer.render(e.scene,e.cameras[e.currentCamera])},d=function t(){requestAnimationFrame(t),e.controls[e.currentCamera].update(e.clock.getDelta()),l()};d()},destroyed:function(){this.renderer.forceContextLoss()}})],K);var X=K,Z=X,B=(n("2287"),Object(o["a"])(Z,$,q,!1,null,"dd86c250",null)),J=B.exports,Y=function(e){Object(g["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return n}(f["b"]);Y=Object(b["a"])([Object(f["a"])({components:{FlatScene:J}})],Y);var G=Y,Q=G,U=Object(o["a"])(Q,I,N,!1,null,null,null),V=U.exports;r["a"].use(u["a"]);var ee=[{path:"/",name:"Home",component:R},{path:"/flatscene",name:"Flat",component:V}],te=new u["a"]({mode:"history",base:"/developer3d-test/",routes:ee}),ne=te,re=n("2f62");r["a"].use(re["a"]);var ae=new re["a"].Store({state:{},mutations:{},actions:{},modules:{}});r["a"].config.productionTip=!1,new r["a"]({router:ne,store:ae,render:function(e){return e(l)}}).$mount("#app")},d74f:function(e,t,n){}});
//# sourceMappingURL=app.6795ea15.js.map